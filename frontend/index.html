<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>σê¥Θƒ│πâƒπé» ΓÇö Hatsune Miku</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --cyan:#39c5bb;--cyan-glow:rgba(57,197,187,0.4);
      --pink:#ff4081;--purple:#7c4dff;--dark:#0a0a1a;--darker:#050510;
      --text:#e0f7fa;--text-dim:rgba(224,247,250,0.5);
    }
    html{scroll-behavior:smooth}
    body{font-family:'Rajdhani',sans-serif;background:var(--dark);color:var(--text);overflow-x:hidden;cursor:none}

    .cursor{position:fixed;pointer-events:none;z-index:10000;width:20px;height:20px;border-radius:50%;
      border:2px solid var(--cyan);transform:translate(-50%,-50%);transition:width .15s,height .15s;
      box-shadow:0 0 15px var(--cyan-glow),inset 0 0 8px var(--cyan-glow)}
    .cursor-trail{position:fixed;pointer-events:none;z-index:9999;width:6px;height:6px;border-radius:50%;
      background:var(--cyan);opacity:0;will-change:transform,opacity}

    .scanlines{position:fixed;inset:0;z-index:9990;pointer-events:none;
      background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.03) 2px,rgba(0,0,0,0.03) 4px)}

    .loader{position:fixed;inset:0;z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:radial-gradient(ellipse at center,var(--darker) 0%,#020205 100%);transition:opacity .8s ease,visibility .8s ease}
    .loader.hidden{opacity:0;visibility:hidden;pointer-events:none}
    /* Animated starfield */
    .loader-stars{position:absolute;inset:0;background:radial-gradient(2px 2px at 20px 30px,rgba(57,197,187,0.4),transparent),radial-gradient(1px 1px at 50px 100px,rgba(255,64,129,0.3),transparent),radial-gradient(2px 2px at 80px 50px,rgba(124,77,255,0.3),transparent);background-size:200px 200px,150px 150px,180px 180px;animation:starDrift 200s linear infinite}
    @keyframes starDrift{to{background-position:200px 200px,-150px 150px,180px -180px}}
    
    /* Holographic rings */
    .loader-rings{position:absolute;width:300px;height:300px;pointer-events:none}
    .load-ring{position:absolute;inset:0;border-radius:50%;border:1px solid rgba(57,197,187,0.3);animation:spin 8s linear infinite}
    .load-ring:nth-child(2){inset:25px;border-color:rgba(255,64,129,0.2);animation-duration:12s;animation-direction:reverse}
    .load-ring:nth-child(3){inset:50px;border-color:rgba(124,77,255,0.15);animation-duration:15s}
    .load-ring:nth-child(4){inset:-15px;border-style:dashed;border-color:rgba(57,197,187,0.15);animation-duration:20s}
    @keyframes spin{to{transform:rotate(360deg)}}
    
    /* Scan line */
    .scan-line{position:absolute;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);box-shadow:0 0 15px var(--cyan);opacity:0.5;animation:scan 2.5s ease-in-out infinite}
    @keyframes scan{0%,100%{top:30%;opacity:0}10%{opacity:0.5}90%{opacity:0.5}100%{top:70%;opacity:0}}
    
    /* Audio visualizer */
    .audio-viz{display:flex;align-items:flex-end;justify-content:center;gap:3px;height:40px;margin:25px 0;opacity:0;animation:fadeIn .5s 1.8s forwards}
    .viz-bar{width:4px;background:linear-gradient(180deg,var(--cyan),var(--pink));border-radius:2px;box-shadow:0 0 8px var(--cyan-glow);animation:dance .5s ease-in-out infinite alternate}
    .viz-bar:nth-child(odd){animation-duration:.4s;animation-delay:.1s}
    .viz-bar:nth-child(3n){animation-duration:.6s;animation-delay:.2s}
    @keyframes dance{from{height:5px}to{height:35px}}

    .loader-init{font-family:'Orbitron',monospace;font-size:.7rem;color:var(--cyan);letter-spacing:.3em;text-transform:uppercase;
      margin-bottom:24px;opacity:0;animation:flicker .1s 0s 6 alternate forwards,fadeIn .5s .6s forwards}
    .loader-title{font-family:'Orbitron',monospace;font-size:3rem;font-weight:900;color:#fff;letter-spacing:.08em;
      text-shadow:0 0 30px var(--cyan-glow),0 0 60px rgba(57,197,187,0.2);
      opacity:0;animation:glitchIn 1s 1s forwards}
    .loader-sub{font-size:.85rem;color:var(--text-dim);letter-spacing:.15em;text-transform:uppercase;margin-top:8px;
      opacity:0;animation:fadeIn .6s 1.8s forwards}
    .loader-bar{width:200px;height:2px;background:rgba(57,197,187,0.15);border-radius:2px;margin-top:32px;overflow:hidden;
      opacity:0;animation:fadeIn .5s 2s forwards}
    .loader-bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--cyan),var(--pink));border-radius:2px;
      animation:barFill 2s 2.2s ease forwards;box-shadow:0 0 10px var(--cyan-glow)}
    @keyframes flicker{0%{opacity:0}100%{opacity:1}}
    @keyframes fadeIn{to{opacity:1}}
    @keyframes barFill{to{width:100%}}
    @keyframes glitchIn{
      0%{opacity:0;transform:translate(0)}
      10%{opacity:1;transform:translate(-3px,2px);text-shadow:2px 0 var(--pink),-2px 0 var(--cyan)}
      20%{transform:translate(3px,-1px);text-shadow:-2px 0 var(--pink),2px 0 var(--cyan)}
      30%{transform:translate(-1px,3px)}
      40%{transform:translate(2px,-2px);text-shadow:1px 0 var(--pink),-1px 0 var(--cyan)}
      50%,100%{opacity:1;transform:translate(0);text-shadow:0 0 30px var(--cyan-glow),0 0 60px rgba(57,197,187,0.2)}
    }

    #threeCanvas{position:fixed;inset:0;z-index:0;pointer-events:none}

    .site-header{position:fixed;top:0;left:0;right:0;z-index:60;padding:20px 48px;display:flex;justify-content:space-between;
      align-items:center;transition:background .5s,backdrop-filter .5s}
    .site-header.scrolled{background:rgba(10,10,26,0.92);backdrop-filter:blur(12px);border-bottom:1px solid rgba(57,197,187,0.1)}
    .logo{font-family:'Orbitron',monospace;font-size:1.1rem;color:var(--cyan);text-decoration:none;letter-spacing:.1em;
      text-shadow:0 0 10px var(--cyan-glow)}
    .logo span{color:var(--pink)}
    .nav-links{display:flex;gap:28px;align-items:center}
    .nav-links a{color:var(--text-dim);text-decoration:none;font-size:.75rem;letter-spacing:.1em;text-transform:uppercase;
      font-family:'Orbitron',monospace;transition:color .3s,text-shadow .3s}
    .nav-links a:hover{color:var(--cyan);text-shadow:0 0 10px var(--cyan-glow)}

    .glitch{position:relative}
    .glitch::before,.glitch::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}
    .glitch:hover::before{opacity:.8;color:var(--pink);animation:glitchClip 0.3s infinite alternate-reverse;clip-path:inset(20% 0 30% 0)}
    .glitch:hover::after{opacity:.8;color:var(--cyan);animation:glitchClip 0.3s 0.1s infinite alternate;clip-path:inset(50% 0 10% 0)}
    @keyframes glitchClip{
      0%{clip-path:inset(20% 0 60% 0);transform:translate(-2px)}
      25%{clip-path:inset(50% 0 10% 0);transform:translate(2px)}
      50%{clip-path:inset(10% 0 40% 0);transform:translate(-1px)}
      75%{clip-path:inset(60% 0 5% 0);transform:translate(1px)}
      100%{clip-path:inset(30% 0 30% 0);transform:translate(0)}
    }

    /* Hero */
    .hero{position:relative;height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .hero-model{position:absolute;inset:0;z-index:1}
    .hero-model iframe{width:100%;height:100%;border:none}
    .hero-overlay{position:absolute;inset:0;z-index:2;
      background:linear-gradient(180deg,rgba(5,5,16,0.3) 0%,rgba(5,5,16,0.1) 40%,rgba(5,5,16,0.7) 100%);pointer-events:none}
    .hero-content{position:relative;z-index:3;text-align:center;pointer-events:none}
    .hero-content h1{font-family:'Orbitron',monospace;font-size:3.5rem;font-weight:900;color:#fff;letter-spacing:.06em;
      text-shadow:0 0 40px var(--cyan-glow),0 0 80px rgba(57,197,187,0.15);
      opacity:0;animation:heroSlide 1s 4.5s ease forwards}
    .hero-content .hero-jp{font-family:'Orbitron',monospace;font-size:1rem;color:var(--cyan);letter-spacing:.3em;margin-bottom:12px;
      opacity:0;animation:heroSlide .8s 4.2s ease forwards}
    .hero-content p{font-size:1.1rem;color:var(--text-dim);letter-spacing:.12em;margin-top:16px;font-weight:300;
      opacity:0;animation:heroSlide .8s 4.8s ease forwards}
    .hero-scroll{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);z-index:3;
      color:var(--text-dim);font-size:.65rem;letter-spacing:.2em;text-transform:uppercase;text-decoration:none;
      opacity:0;animation:heroSlide .8s 5.2s ease forwards}
    .hero-scroll::after{content:'';display:block;width:1px;height:40px;
      background:linear-gradient(180deg,var(--cyan),transparent);margin:12px auto 0;animation:pulse 2s infinite}
    @keyframes heroSlide{to{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{opacity:.3}50%{opacity:1}}

    /* Tracks section ΓÇö scattered floating */
    .tracks-section{position:relative;z-index:1;min-height:100vh;padding:120px 0 160px;overflow:visible}
    .tracks-section::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;
      background:linear-gradient(90deg,transparent,var(--pink),transparent)}
    .tracks-title{text-align:center;margin-bottom:80px;position:relative;z-index:2}
    .tracks-title h2{font-family:'Orbitron',monospace;font-size:1.6rem;font-weight:700;color:var(--pink);letter-spacing:.15em;
      text-shadow:0 0 20px rgba(255,64,129,0.4)}
    .tracks-title p{color:var(--text-dim);font-size:.85rem;margin-top:8px;letter-spacing:.06em}

    .tracks-scatter{position:relative;max-width:1200px;margin:0 auto;height:900px}

    .disco-card{position:absolute;overflow:hidden;border-radius:8px;border:1px solid rgba(57,197,187,0.12);
      width:220px;cursor:none;opacity:0;
      transition:opacity .8s ease,border-color .4s,box-shadow .4s;
      animation:cardFloat 6s ease-in-out infinite}
    .disco-card.visible{opacity:1}
    .disco-card:hover{border-color:var(--cyan);box-shadow:0 0 35px var(--cyan-glow),0 4px 30px rgba(0,0,0,0.4)}
    .disco-card.playing{border-color:var(--pink);box-shadow:0 0 40px rgba(255,64,129,0.35),0 4px 30px rgba(0,0,0,0.4)}

    .disco-card .card-img{position:relative;width:100%;aspect-ratio:3/4;overflow:hidden}
    .disco-card img{width:100%;height:100%;object-fit:cover;transition:transform .6s ease}
    .disco-card:hover img{transform:scale(1.06)}
    .disco-card .static-overlay{position:absolute;inset:0;z-index:2;pointer-events:none;
      background:linear-gradient(180deg,rgba(20,60,80,0.5) 0%,rgba(10,30,50,0.65) 100%);transition:opacity .6s ease}
    .disco-card .static-overlay::before{content:'';position:absolute;inset:0;
      background:repeating-linear-gradient(0deg,transparent,transparent 1px,rgba(57,197,187,0.05) 1px,rgba(57,197,187,0.05) 2px);
      animation:staticScroll 0.4s linear infinite}
    .disco-card .static-overlay::after{content:'';position:absolute;inset:0;
      background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
      opacity:.5;animation:staticFlicker 0.15s steps(3) infinite}
    .disco-card.playing .static-overlay{opacity:0}

    .disco-card .play-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.8);z-index:4;
      width:48px;height:48px;border-radius:50%;background:rgba(57,197,187,0.15);border:2px solid var(--cyan);
      display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s,transform .3s;
      box-shadow:0 0 20px var(--cyan-glow);backdrop-filter:blur(4px)}
    .disco-card .play-icon::after{content:'';width:0;height:0;border-style:solid;border-width:7px 0 7px 12px;
      border-color:transparent transparent transparent var(--cyan);margin-left:2px}
    .disco-card:hover .play-icon{opacity:1;transform:translate(-50%,-50%) scale(1)}
    .disco-card.playing .play-icon{opacity:1;border-color:var(--pink);background:rgba(255,64,129,0.15);
      box-shadow:0 0 20px rgba(255,64,129,0.3)}
    .disco-card.playing .play-icon::after{border-width:0;width:10px;height:12px;margin-left:0;
      border-left:3px solid var(--pink);border-right:3px solid var(--pink);background:transparent}

    .disco-card .card-label{padding:14px 14px 16px;background:rgba(5,5,16,0.9)}
    .disco-card .card-label h3{font-family:'Orbitron',monospace;font-size:.72rem;font-weight:700;color:#fff;letter-spacing:.04em;
      margin-bottom:3px;text-shadow:0 0 8px rgba(0,0,0,0.5)}
    .disco-card .card-label .song-artist{font-size:.62rem;color:var(--cyan);letter-spacing:.06em}

    /* Each card positioned uniquely */
    .disco-card:nth-child(1){left:5%;top:0;animation-delay:0s;transform:rotate(-3deg)}
    .disco-card:nth-child(2){right:8%;top:40px;animation-delay:-1.2s;transform:rotate(2deg)}
    .disco-card:nth-child(3){left:35%;top:280px;animation-delay:-2.5s;transform:rotate(-1.5deg)}
    .disco-card:nth-child(4){left:12%;top:520px;animation-delay:-3.8s;transform:rotate(2.5deg)}
    .disco-card:nth-child(5){right:15%;top:460px;animation-delay:-4.5s;transform:rotate(-2deg)}

    @keyframes cardFloat{
      0%,100%{transform:translateY(0) rotate(var(--rot,0deg))}
      50%{transform:translateY(-12px) rotate(var(--rot,0deg))}
    }
    .disco-card:nth-child(1){--rot:-3deg}
    .disco-card:nth-child(2){--rot:2deg}
    .disco-card:nth-child(3){--rot:-1.5deg}
    .disco-card:nth-child(4){--rot:2.5deg}
    .disco-card:nth-child(5){--rot:-2deg}

    @keyframes staticScroll{0%{transform:translateY(0)}100%{transform:translateY(4px)}}
    @keyframes staticFlicker{0%{opacity:.5}50%{opacity:.3}100%{opacity:.5}}

    /* Music player */
    .music-player{position:fixed;bottom:0;left:0;right:0;z-index:80;background:rgba(5,5,16,0.95);backdrop-filter:blur(12px);
      border-top:1px solid rgba(57,197,187,0.15);padding:12px 32px;display:flex;align-items:center;gap:20px;
      transform:translateY(100%);transition:transform .5s ease}
    .music-player.visible{transform:translateY(0)}
    .player-btn{background:none;border:2px solid var(--cyan);color:var(--cyan);width:36px;height:36px;border-radius:50%;
      cursor:none;font-size:1rem;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}
    .player-btn:hover{background:var(--cyan);color:var(--darker)}
    .player-info{flex:1;min-width:0}
    .player-info .track-name{font-family:'Orbitron',monospace;font-size:.72rem;color:#fff;letter-spacing:.08em;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .player-info .track-artist{font-size:.65rem;color:var(--text-dim);letter-spacing:.06em;margin-top:2px}
    .player-progress{flex:2;height:3px;background:rgba(57,197,187,0.15);border-radius:2px;overflow:hidden;cursor:none}
    .player-progress-fill{height:100%;width:0;background:linear-gradient(90deg,var(--cyan),var(--pink));border-radius:2px;
      transition:width .1s linear}
    .player-time{font-family:'Orbitron',monospace;font-size:.6rem;color:var(--text-dim);letter-spacing:.06em;flex-shrink:0}
    .player-vol{display:flex;align-items:center;gap:8px;flex-shrink:0}
    .player-vol-icon{color:var(--text-dim);font-size:.8rem}
    .player-vol-bar{width:60px;height:3px;background:rgba(57,197,187,0.15);border-radius:2px;overflow:hidden;cursor:none}
    .player-vol-fill{height:100%;width:70%;background:var(--cyan);border-radius:2px}

    .site-footer{background:radial-gradient(ellipse at center,var(--darker) 0%,#020205 100%);border-top:1px solid rgba(57,197,187,0.08);text-align:center;padding:40px;
      font-size:.68rem;color:var(--text-dim);letter-spacing:.08em;position:relative;z-index:1;padding-bottom:70px}

    @media(max-width:768px){
      body{cursor:auto}
      .cursor,.cursor-trail,.scanlines{display:none!important}
      .site-header{padding:14px 20px}
      .logo{font-size:.85rem}
      .nav-links{display:none}
      .hero-content h1{font-size:2rem}
      .hero-content .hero-jp{font-size:.75rem}
      .hero-content p{font-size:.88rem}
      .tracks-section{padding:80px 16px 120px}
      .tracks-scatter{height:auto;display:flex;flex-direction:column;align-items:center;gap:24px}
      .disco-card{position:relative!important;left:auto!important;right:auto!important;top:auto!important;
        width:85%;max-width:280px;transform:none!important}
      .disco-card .play-icon{opacity:1;transform:translate(-50%,-50%) scale(.8)}
      .music-player{padding:10px 16px;gap:12px}
      .player-vol{display:none}
      .player-progress{flex:1}
      .player-btn,.disco-card{cursor:auto}
    }
  </style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="scanlines"></div>

<div class="loader" id="loader">
  <div class="loader-init">Initializing System...</div>
  <div class="loader-title">HATSUNE MIKU</div>
  <div class="loader-sub">Virtual Diva Protocol v3.9</div>
  <div class="loader-bar"><span></span></div>
</div>

<canvas id="threeCanvas"></canvas>

<header class="site-header" id="siteHeader">
  <a class="logo glitch" data-text="MIKU//" href="#">MIKU<span>//</span></a>
  <nav class="nav-links" id="mainNav">
    <a href="#tracks">Tracks</a>
  </nav>
</header>

<section class="hero" id="hero">
  <div class="hero-model">
    <iframe title="Koi wa Sensou - Hatsune Miku 3D Model" src="https://sketchfab.com/models/e348c72a1ad041808f55c8ba92178a86/embed?autostart=1&ui_theme=dark&ui_infos=0&ui_controls=1&ui_stop=0&ui_inspector=0&ui_watermark=0&ui_watermark_link=0&ui_ar=0&ui_help=0&ui_settings=0&ui_vr=0&ui_fullscreen=0&ui_annotations=0&transparent=1" allow="autoplay; fullscreen; xr-spatial-tracking"></iframe>
  </div>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <div class="hero-jp">σê¥Θƒ│πâƒπé»</div>
    <h1 class="glitch" data-text="HATSUNE MIKU">HATSUNE MIKU</h1>
    <p>The World's Virtual Diva</p>
  </div>
  <a class="hero-scroll" href="#tracks">Scroll to Begin</a>
</section>

<section class="tracks-section" id="tracks">
  <div class="tracks-title">
    <h2>// SELECT TRACK</h2>
    <p>Click to play</p>
  </div>
  <div class="tracks-scatter">
    <div class="disco-card" data-video="9HrOqmiEsN8" onclick="playSong(this)">
      <div class="card-img">
        <img src="https://i.pinimg.com/736x/2f/ff/ec/2fffec9e19cf027dd997da28bf080916.jpg" alt="Romeo and Cinderella" />
        <div class="static-overlay"></div>
        <div class="play-icon"></div>
      </div>
      <div class="card-label"><h3>Romeo and Cinderella</h3><div class="song-artist">doriko</div></div>
    </div>
    <div class="disco-card" data-video="EuJ6UR_pD5s" onclick="playSong(this)">
      <div class="card-img">
        <img src="https://i.pinimg.com/1200x/4e/00/38/4e0038cf7d2a0ba2e675f1d6b91872ae.jpg" alt="World is Mine" />
        <div class="static-overlay"></div>
        <div class="play-icon"></div>
      </div>
      <div class="card-label"><h3>World is Mine</h3><div class="song-artist">ryo (supercell)</div></div>
    </div>
    <div class="disco-card" data-video="TNf3GPizM58" onclick="playSong(this)">
      <div class="card-img">
        <img src="https://i.pinimg.com/736x/5e/16/78/5e16781bc7b512ecc8ab2d8d89a5df9f.jpg" alt="Popipo" />
        <div class="static-overlay"></div>
        <div class="play-icon"></div>
      </div>
      <div class="card-label"><h3>Popipo</h3><div class="song-artist">Lamaze-P</div></div>
    </div>
    <div class="disco-card" data-video="5qkTpJAhywg" onclick="playSong(this)">
      <div class="card-img">
        <img src="https://i.pinimg.com/736x/46/a9/eb/46a9ebcc26907d875c5c68267f7dafbb.jpg" alt="The Disappearance of Hatsune Miku" />
        <div class="static-overlay"></div>
        <div class="play-icon"></div>
      </div>
      <div class="card-label"><h3>The Disappearance</h3><div class="song-artist">cosMo@Bousou-P</div></div>
    </div>
    <div class="disco-card" data-video="OLzOrik5YJ8" onclick="playSong(this)">
      <div class="card-img">
        <img src="https://i.pinimg.com/736x/e3/87/8b/e3878b5101120ba0cbb186eeebfeb28c.jpg" alt="Black Rock Shooter" />
        <div class="static-overlay"></div>
        <div class="play-icon"></div>
      </div>
      <div class="card-label"><h3>Black Rock Shooter</h3><div class="song-artist">ryo (supercell)</div></div>
    </div>
  </div>
  <div id="ytPlayer" style="position:absolute;width:1px;height:1px;overflow:hidden;opacity:0;pointer-events:none"></div>
</section>

<footer class="site-footer">
  &copy; 2025 Fan Tribute &mdash; Hatsune Miku belongs to Crypton Future Media
</footer>

<div class="music-player" id="musicPlayer">
  <button class="player-btn" id="playBtn" onclick="togglePlay()">&#9654;</button>
  <div class="player-info">
    <div class="track-name" id="trackName">Select a track</div>
    <div class="track-artist">Hatsune Miku</div>
  </div>
  <div class="player-progress" id="progressBar" onclick="seekTrack(event)">
    <div class="player-progress-fill" id="progressFill"></div>
  </div>
  <div class="player-time" id="playerTime">0:00 / 0:00</div>
  <div class="player-vol">
    <span class="player-vol-icon">&#128265;</span>
    <div class="player-vol-bar"><div class="player-vol-fill"></div></div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
/* ΓöÇΓöÇ Custom Cursor ΓöÇΓöÇ */
(function(){
  var cursor=document.getElementById('cursor');
  var mx=-100,my=-100,cx=-100,cy=-100;
  var trails=[];
  for(var i=0;i<6;i++){
    var el=document.createElement('div');el.className='cursor-trail';
    document.body.appendChild(el);trails.push({el:el,x:-100,y:-100,life:0});
  }
  var lastTrail=0;
  document.addEventListener('mousemove',function(e){
    mx=e.clientX;my=e.clientY;
    var now=Date.now();
    if(now-lastTrail>50){
      lastTrail=now;var oldest=0,oldLife=trails[0].life;
      for(var i=1;i<trails.length;i++){if(trails[i].life<oldLife){oldLife=trails[i].life;oldest=i;}}
      trails[oldest].x=mx;trails[oldest].y=my;trails[oldest].life=1;
    }
  });
  function tick(){
    cx+=(mx-cx)*0.15;cy+=(my-cy)*0.15;
    cursor.style.left=cx+'px';cursor.style.top=cy+'px';
    for(var i=0;i<trails.length;i++){
      var t=trails[i];
      if(t.life>0){t.life-=0.03;if(t.life<=0){t.life=0;t.el.style.opacity=0;continue;}
        t.el.style.opacity=t.life*0.6;t.el.style.left=t.x+'px';t.el.style.top=t.y+'px';
        t.el.style.transform='translate(-50%,-50%) scale('+t.life+')';
      }
    }
    requestAnimationFrame(tick);
  }
  tick();
})();

/* ΓöÇΓöÇ Three.js Particles ΓöÇΓöÇ */
(function(){
  var canvas=document.getElementById('threeCanvas');
  var renderer=new THREE.WebGLRenderer({canvas:canvas,alpha:true,antialias:true});
  renderer.setSize(window.innerWidth,window.innerHeight);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
  var scene=new THREE.Scene();
  var camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,0.1,1000);
  camera.position.z=50;
  var count=300;var geo=new THREE.BufferGeometry();
  var pos=new Float32Array(count*3);var vel=[];var sizes=new Float32Array(count);
  for(var i=0;i<count;i++){
    pos[i*3]=(Math.random()-0.5)*140;pos[i*3+1]=(Math.random()-0.5)*140;pos[i*3+2]=(Math.random()-0.5)*80;
    sizes[i]=0.2+Math.random()*0.6;
    vel.push({x:(Math.random()-0.5)*0.015,y:(Math.random()-0.5)*0.015,z:(Math.random()-0.5)*0.008});
  }
  geo.setAttribute('position',new THREE.BufferAttribute(pos,3));
  geo.setAttribute('size',new THREE.BufferAttribute(sizes,1));
  var vs='attribute float size;varying float vA;void main(){vec4 mv=modelViewMatrix*vec4(position,1.0);gl_PointSize=size*(200.0/-mv.z);gl_Position=projectionMatrix*mv;vA=clamp(1.0-(-mv.z/60.0),0.1,0.7);}';
  var fs='varying float vA;void main(){float d=length(gl_PointCoord-vec2(0.5));if(d>0.5)discard;float s=1.0-smoothstep(0.15,0.5,d);gl_FragColor=vec4(0.224,0.773,0.733,vA*s);}';
  var mat=new THREE.ShaderMaterial({vertexShader:vs,fragmentShader:fs,transparent:true,depthWrite:false});
  var pts=new THREE.Points(geo,mat);scene.add(pts);
  var mouse={x:0,y:0};
  window.addEventListener('mousemove',function(e){mouse.x=(e.clientX/window.innerWidth-0.5)*2;mouse.y=(e.clientY/window.innerHeight-0.5)*2;});
  window.addEventListener('resize',function(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);});
  function animate(){
    requestAnimationFrame(animate);var p=geo.attributes.position.array;
    for(var i=0;i<count;i++){var ix=i*3;
      p[ix]+=vel[i].x+Math.sin(Date.now()*0.0008+i)*0.008;
      p[ix+1]+=vel[i].y+Math.cos(Date.now()*0.0006+i)*0.005;p[ix+2]+=vel[i].z;
      if(p[ix]>70)p[ix]=-70;if(p[ix]<-70)p[ix]=70;
      if(p[ix+1]>70)p[ix+1]=-70;if(p[ix+1]<-70)p[ix+1]=70;
    }
    geo.attributes.position.needsUpdate=true;
    camera.position.x+=(mouse.x*3-camera.position.x)*0.02;
    camera.position.y+=(-mouse.y*2-camera.position.y)*0.02;
    camera.lookAt(0,0,0);pts.rotation.y+=0.0002;renderer.render(scene,camera);
  }
  animate();
})();

/* ΓöÇΓöÇ Scroll ΓöÇΓöÇ */
window.addEventListener('scroll',function(){
  document.getElementById('siteHeader').classList.toggle('scrolled',window.scrollY>80);
  var cards=document.querySelectorAll('.disco-card:not(.visible)');
  for(var i=0;i<cards.length;i++){
    if(cards[i].getBoundingClientRect().top<window.innerHeight-40)cards[i].classList.add('visible');
  }
},{passive:true});

/* ΓöÇΓöÇ YouTube Player ΓöÇΓöÇ */
var ytReady=false,ytPlayerObj=null,currentCard=null,progressInterval=null;
var tag=document.createElement('script');tag.src='https://www.youtube.com/iframe_api';document.head.appendChild(tag);

function onYouTubeIframeAPIReady(){
  ytPlayerObj=new YT.Player('ytPlayer',{
    height:'1',width:'1',
    playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,modestbranding:1},
    events:{
      onReady:function(){ytReady=true;},
      onStateChange:function(e){
        if(e.data===YT.PlayerState.ENDED)stopSong();
        if(e.data===YT.PlayerState.PLAYING)startProgress();
        if(e.data===YT.PlayerState.PAUSED)clearInterval(progressInterval);
      }
    }
  });
}

function playSong(card){
  if(!ytReady)return;
  if(currentCard===card){
    var state=ytPlayerObj.getPlayerState();
    if(state===YT.PlayerState.PLAYING){ytPlayerObj.pauseVideo();card.classList.remove('playing');document.getElementById('playBtn').innerHTML='&#9654;';}
    else{ytPlayerObj.playVideo();card.classList.add('playing');document.getElementById('playBtn').innerHTML='&#10074;&#10074;';}
    return;
  }
  if(currentCard)currentCard.classList.remove('playing');
  currentCard=card;card.classList.add('playing');
  document.getElementById('trackName').textContent=card.querySelector('h3').textContent+' \u2014 '+card.querySelector('.song-artist').textContent;
  document.getElementById('playBtn').innerHTML='&#10074;&#10074;';
  document.getElementById('musicPlayer').classList.add('visible');
  ytPlayerObj.loadVideoById(card.dataset.video);
}

function startProgress(){
  clearInterval(progressInterval);
  progressInterval=setInterval(function(){
    if(!ytPlayerObj||ytPlayerObj.getPlayerState()!==YT.PlayerState.PLAYING)return;
    var c=ytPlayerObj.getCurrentTime(),d=ytPlayerObj.getDuration();if(d<=0)return;
    document.getElementById('progressFill').style.width=(c/d)*100+'%';
    var cm=Math.floor(c/60),cs=Math.floor(c%60),tm=Math.floor(d/60),ts=Math.floor(d%60);
    document.getElementById('playerTime').textContent=cm+':'+(cs<10?'0':'')+cs+' / '+tm+':'+(ts<10?'0':'')+ts;
  },500);
}

function stopSong(){
  clearInterval(progressInterval);if(currentCard)currentCard.classList.remove('playing');currentCard=null;
  document.getElementById('playBtn').innerHTML='&#9654;';
  document.getElementById('progressFill').style.width='0%';
  document.getElementById('playerTime').textContent='0:00 / 0:00';
  document.getElementById('trackName').textContent='Select a track';
}

window.togglePlay=function(){
  if(!ytReady||!ytPlayerObj)return;
  var state=ytPlayerObj.getPlayerState();
  if(state===YT.PlayerState.PLAYING){ytPlayerObj.pauseVideo();if(currentCard)currentCard.classList.remove('playing');document.getElementById('playBtn').innerHTML='&#9654;';}
  else if(currentCard){ytPlayerObj.playVideo();currentCard.classList.add('playing');document.getElementById('playBtn').innerHTML='&#10074;&#10074;';}
};

window.seekTrack=function(e){
  if(!ytReady||!ytPlayerObj)return;
  var bar=document.getElementById('progressBar'),rect=bar.getBoundingClientRect();
  var d=ytPlayerObj.getDuration();if(d>0)ytPlayerObj.seekTo(((e.clientX-rect.left)/rect.width)*d,true);
};

setTimeout(function(){document.getElementById('loader').classList.add('hidden');},4200);
</script>
</body>
</html>
